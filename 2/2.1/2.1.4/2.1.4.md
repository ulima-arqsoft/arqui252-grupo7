# 2.1.4. M√≥dulo 4 - Visualizaci√≥n de Productos - Hideki Sotero

Este m√≥dulo se centra en ofrecer a los clientes una experiencia de navegaci√≥n clara y atractiva sobre el cat√°logo de productos del emprendimiento de ropa. Incluye la presentaci√≥n de los art√≠culos con im√°genes, descripciones, tallas, precios y disponibilidad en tiempo real, de manera que los usuarios puedan explorar y seleccionar productos de forma sencilla antes de proceder a la compra.

## üõçÔ∏è Alcance
Permitir a los usuarios explorar el cat√°logo (lista y detalle), encontrar productos mediante b√∫squeda/filtrado/ordenamiento, revisar variantes (talla/color), verificar disponibilidad y descuentos en tiempo real, y continuar hacia la compra o guardar favoritos.

## üåÄ Supuestos
- El cat√°logo se consume desde un backend (Node.js + PostgreSQL) v√≠a API REST/GraphQL.
- Stock y precios se sincronizan con el m√≥dulo de compras/gesti√≥n en tiempo (casi) real.
- Las im√°genes est√°n servidas desde un CDN con variantes responsive.

## ü§ñ Requisitos Funcionales

### RF-VP-01 Listado de cat√°logo
El sistema muestra una grilla/lista de productos con imagen, nombre, precio, precio tachado (si aplica) y etiqueta de disponibilidad.

- **Aceptaci√≥n**: dada una categor√≠a con productos, cuando el usuario ingresa, entonces ve al menos 12 √≠tems iniciales y placeholders de carga.

---

### RF-VP-02 Paginaci√≥n / Carga incremental
La vista soporta paginaci√≥n o ‚Äúinfinite scroll‚Äù.

- **Aceptaci√≥n**: cuando el usuario llega al 80% del scroll, el sistema solicita la siguiente p√°gina y la agrega sin romper el orden.

---

### RF-VP-03 B√∫squeda por texto
El usuario puede buscar por nombre, palabra clave o c√≥digo.

- **Aceptaci√≥n**: al escribir ‚â•3 caracteres y presionar Enter, la lista se actualiza; las coincidencias resaltan el t√©rmino buscado.

---

### RF-VP-04 Filtros din√°micos
Filtros por categor√≠a, talla, color, rango de precio y estado (nuevo/oferta).

- **Aceptaci√≥n**: al aplicar filtros m√∫ltiples, el resultado refleja la intersecci√≥n; el chip de cada filtro puede removerse individualmente.

---

### RF-VP-05 Ordenamiento
Orden por relevancia, precio (asc/desc) y novedades.

- **Aceptaci√≥n**: al cambiar el orden, la primera p√°gina se recarga en <1.5s (p75) manteniendo filtros activos.

---

### RF-VP-06 Detalle de producto (PDP)
P√°gina con galer√≠a de im√°genes, descripci√≥n, composici√≥n, gu√≠a de tallas, precio, variaciones, disponibilidad por variante y pol√≠ticas de cambio/devoluci√≥n.

- **Aceptaci√≥n**: al abrir un producto v√°lido, se muestran al menos 3 im√°genes, selector de talla/color y stock por variante.

---

### RF-VP-07 Variantes y disponibilidad
Selecci√≥n de color/talla actualiza precio, SKU y stock.

- **Aceptaci√≥n**: al elegir una variante agotada, se deshabilita ‚ÄúAgregar al carrito‚Äù y se muestra ‚ÄúSin stock‚Äù con CTA de alerta de disponibilidad (si est√° habilitado).

---

### RF-VP-08 Etiquetas y promociones
Mostrar badges como ‚ÄúNuevo‚Äù, ‚Äú-20%‚Äù, ‚Äú√öltimas unidades‚Äù, ‚Äú2x1‚Äù.

- **Aceptaci√≥n**: si existe una promo activa, se renderiza el badge y el precio promocional con c√°lculo correcto del descuento.

---

### RF-VP-09 Recomendaciones
Bloques de ‚ÄúProductos relacionados‚Äù y ‚ÄúVistos recientemente‚Äù.

- **Aceptaci√≥n**: en la PDP se presentan ‚â•6 recomendaciones; si no hay se√±ales, se muestra fallback por categor√≠a.

---

### RF-VP-10 Wishlist / Favoritos
Permite guardar/quitar productos del listado personal.

- **Aceptaci√≥n**: al tocar el √≠cono de favorito, el estado se persiste (local + cuenta) y se refleja en todas las vistas.

---

### RF-VP-11 Compartir y Deep Link
Genera enlaces compartibles a PDP con UTM opcional.

- **Aceptaci√≥n**: al usar ‚ÄúCompartir‚Äù, se copia la URL can√≥nica y al abrirla aterriza directamente en la variante seleccionada (si estaba en la URL).

---

### RF-VP-12 Accesibilidad y SEO
Soporta navegaci√≥n por teclado, textos alternativos y metadatos SEO (title, meta description, Open Graph).

- **Aceptaci√≥n**: elementos interactivos tienen focus-visible; im√°genes tienen `alt`; la PDP define `og:image`, `og:title`, `og:description`.

---

### RF-VP-13 Estados vac√≠os y errores
Mensajes claros cuando no hay resultados o hay fallo de red.

- **Aceptaci√≥n**: con filtros sin coincidencias, se muestra ‚ÄúSin resultados‚Äù + CTA ‚ÄúLimpiar filtros‚Äù; ante error 5xx, bot√≥n ‚ÄúReintentar‚Äù.

---

### RF-VP-14 Performance y placeholders
Uso de im√°genes responsive, lazy-load y skeletons.

- **Aceptaci√≥n**: LCP de PDP ‚â§ 2.5s (p75) en 4G; im√°genes usan `srcset`/`sizes`; listas muestran skeleton mientras cargan.

---

### RF-VP-15 Integraci√≥n con carrito
Bot√≥n ‚ÄúAgregar al carrito‚Äù disponible desde listado y PDP.

- **Aceptaci√≥n**: al agregar, se confirma con toast y mini-cart; si faltan variaciones, se exige selecci√≥n previa.

---

### RF-VP-16 Telemetr√≠a √©tica
Registra (anonimizado) vistas de PDP, uso de filtros, tasa de clic en recomendaciones y add-to-cart.

- **Aceptaci√≥n**: eventos incluyen `session_id` no sensible, `product_id`, `variant_id`, `category`, `price`, `currency`.

---

### RF-VP-17 Internacionalizaci√≥n (opcional)
Moneda/formato de precio y tallas localizables.

- **Aceptaci√≥n**: al cambiar regi√≥n `PE‚ÜíUS`, moneda y separadores se actualizan; gu√≠a de tallas cambia a la tabla correspondiente.

---

### RF-VP-18 Caching y modo offline ligero (opcional)
Cachea √∫ltimos listados y PDP para re-visitas r√°pidas.

- **Aceptaci√≥n**: al volver a una PDP visitada, la vista aparece desde cache en <300ms y se revalida en background.

### Requisitos de Atributos de Calidad

| Atributo de Calidad | Est√≠mulo | Fuente del Est√≠mulo | Artefacto | Entorno | Respuesta | Medida de Respuesta |
|----------------------|----------|----------------------|------------|---------|-----------|----------------------|
| Disponibilidad | Un cliente accede al cat√°logo y uno de los servicios de im√°genes falla | Cliente | Servicio de im√°genes | Horario laboral | El sistema carga im√°genes desde un servidor alterno | 99.9% de disponibilidad anual |
| Rendimiento | El cliente aplica un filtro sobre un cat√°logo de m√°s de 20,000 productos | Cliente | Motor de b√∫squeda y filtros | Operaci√≥n normal | El sistema responde sin retardos perceptibles | Tiempo de respuesta < 3 segundos |
| Seguridad | Usuario intenta manipular la URL para ver productos ocultos o restringidos | Usuario externo | Backend de cat√°logo | Acceso remoto | El sistema bloquea el acceso y registra el intento | 100% de accesos no autorizados son denegados |
| Usabilidad | Cliente nuevo explora el cat√°logo por primera vez | Cliente | Interfaz web/m√≥vil de cat√°logo | Operaci√≥n normal | El sistema muestra un dise√±o intuitivo con navegaci√≥n clara | Tiempo de aprendizaje < 5 minutos |
| Mantenibilidad | Se requiere a√±adir un nuevo criterio de filtrado (ej. material de la prenda) | Equipo de desarrollo | Backend de cat√°logo | Entorno de desarrollo | La funcionalidad se implementa sin afectar m√≥dulos relacionados | Tiempo de despliegue < 2 horas |

### Restricciones
- El m√≥dulo de Visualizaci√≥n de Productos deber√° implementarse con un **frontend responsivo** desarrollado en React.js.  
- Deber√° integrarse con el backend en Node.js y la base de datos PostgreSQL para obtener informaci√≥n en tiempo real.  
- El dise√±o de la interfaz deber√° cumplir con las gu√≠as de experiencia de usuario establecidas por el proyecto.  
- La actualizaci√≥n de stock deber√° estar sincronizada con el m√≥dulo de compras para garantizar consistencia de la informaci√≥n.  
